{"remainingRequest":"C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\node_modules\\babel-loader\\lib\\index.js!C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\src\\components\\EditSeries.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\src\\components\\EditSeries.vue","mtime":1567403546235},{"path":"C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _defineProperty from \"C:\\\\vivek\\\\code\\\\SpeckbitBot\\\\speckbot_bot_frontend\\\\tg-camp\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { VueEditor } from \"vue2-editor\";\nimport NavBar from \"./NavBar.vue\";\nimport store from \"../stores\";\nimport CustomMessenger from \"./CustomMessenger.vue\";\nimport AllMessages from \"./AllMessages\";\nexport default {\n  name: \"EditSeries\",\n  components: {\n    NavBar: NavBar,\n    CustomMessenger: CustomMessenger,\n    VueEditor: VueEditor,\n    AllMessages: AllMessages\n  },\n  data: function data() {\n    var _ref;\n\n    return _ref = {\n      customToolbar: [[\"bold\", \"italic\"], [\"code-block\"], [\"link\"], [\"clean\"]],\n      periodic_schedule_period: \"daily\",\n      to_display: \"\",\n      every: \"1\",\n      period: \"days\",\n      enabled: false,\n      series_id: \"\",\n      series_title: \"\",\n      no_of_posts: \"\",\n      is_sent: false,\n      to_repeat: \"\",\n      posts: [],\n      interval: {},\n      periodic_task: {},\n      group_id: \"\",\n      api_key: \"\",\n      periodic_schedule: {}\n    }, _defineProperty(_ref, \"interval\", {}), _defineProperty(_ref, \"newPost\", {\n      post_id: \"\",\n      title: \"\",\n      content: \"\"\n    }), _defineProperty(_ref, \"loading\", false), _ref;\n  },\n  methods: {\n    recordPeriodicSchedule: function recordPeriodicSchedule(event) {\n      this.periodic_schedule_period = event.target.value;\n    },\n    recordInterval: function recordInterval(event) {\n      this.period = event.target.value;\n    },\n    EditPeriod: function EditPeriod() {\n      this.interval = {};\n      this.periodic_schedule = this.periodic_schedule_period;\n      this.to_display = this.periodic_schedule_period;\n      this.$store.dispatch(\"editPeriodicSchedule\", {\n        series_id: this.series_id,\n        periodic_schedule: this.periodic_schedule\n      }).then(function (res) {\n        return console.log(res);\n      });\n    },\n    editInterval: function editInterval() {\n      this.periodic_schedule = {};\n      this.interval = {\n        every: this.every,\n        period: this.period\n      };\n      this.$store.dispatch(\"editInterval\", {\n        series_id: this.series_id,\n        interval: this.interval\n      });\n      this.to_display = \"Every \" + this.every + \" \" + this.period;\n    },\n    createNewPost: function createNewPost(post_id) {\n      var _this = this;\n\n      if (post_id) {\n        var posts = this.posts;\n        var filtered_post = posts.filter(function (posts) {\n          return posts.id == post_id;\n        });\n        var item_index = posts.indexOf(filtered_post[0]);\n        filtered_post[0].title = this.newPost.title;\n        filtered_post[0].content = this.newPost.content;\n        this.posts[item_index] = filtered_post[0];\n        this.$store.dispatch(\"editPost\", filtered_post[0]);\n      } else {\n        this.post_id = this.post_id + 1;\n        this.$store.dispatch(\"createNewPost\", {\n          series_id: this.series_id,\n          title: this.newPost.title,\n          content: this.newPost.content\n        }).then(function (res) {\n          return _this.posts.push(res);\n        });\n      }\n\n      this.newPost.post_id = \"\";\n      this.newPost.title = \"\";\n      this.newPost.content = \"\";\n    },\n    editpost: function editpost(post_id) {\n      var posts = this.posts;\n      var filtered_post = posts.filter(function (posts) {\n        return posts.id == post_id;\n      });\n      this.newPost.post_id = post_id;\n      this.newPost.title = filtered_post[0].title;\n      this.newPost.content = filtered_post[0].content;\n    },\n    deletepost: function deletepost(post_id) {\n      var posts = this.posts;\n      var filtered_post = posts.filter(function (posts) {\n        return posts.id == post_id;\n      });\n      var item_index = posts.indexOf(filtered_post[0]);\n      this.posts.splice(item_index, 1);\n      this.post_id = this.post_id - 1;\n      this.$store.dispatch(\"deletePost\", {\n        post_id: post_id,\n        series_id: this.series_id\n      });\n    },\n    editSeries: function editSeries() {\n      var series = {};\n      series[\"title\"] = this.series_title;\n      series[\"group_id\"] = this.group_id;\n      series[\"series_id\"] = this.series_id;\n      series[\"api_key\"] = this.api_key;\n      this.$store.dispatch(\"editSeries\", {\n        series: series\n      });\n    },\n    changeStatus: function changeStatus(event) {\n      this.enabled = !this.enabled;\n      this.$store.dispatch(\"changeSeriesStatus\", {\n        periodic_task: this.enabled,\n        series_id: this.series_id\n      });\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    if (!localStorage[\"token\"]) {\n      this.$router.push({\n        path: \"/\"\n      });\n    }\n\n    this.series_id = this.$route.params.series_id;\n    this.$store.dispatch(\"fetchSeries\", this.series_id).then(function (res) {\n      _this2.$store.commit(\"commitSeries\", res), _this2.series_title = res.title;\n      _this2.no_of_posts = res.no_of_post;\n      _this2.is_sent = res.is_sent;\n      _this2.to_repeat = res.to_repeat;\n      _this2.posts = res.posts;\n      _this2.group_id = res.group_id;\n      _this2.api_key = res.api_key;\n      _this2.to_display = res.to_repeat;\n      _this2.loading = true;\n      _this2.enabled = res.periodic_task.enabled;\n    });\n  }\n};",{"version":3,"sources":["EditSeries.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA,SAAA,SAAA,QAAA,aAAA;AACA,OAAA,MAAA;AACA,OAAA,KAAA;AACA,OAAA,eAAA;AACA,OAAA,WAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,eAAA,EAAA,eAFA;AAGA,IAAA,SAAA,EAAA,SAHA;AAIA,IAAA,WAAA,EAAA;AAJA,GAFA;AAQA,EAAA,IARA,kBAQA;AAAA;;AACA;AACA,MAAA,aAAA,EAAA,CACA,CAAA,MAAA,EAAA,QAAA,CADA,EAEA,CAAA,YAAA,CAFA,EAGA,CAAA,MAAA,CAHA,EAIA,CAAA,OAAA,CAJA,CADA;AAOA,MAAA,wBAAA,EAAA,OAPA;AAQA,MAAA,UAAA,EAAA,EARA;AAUA,MAAA,KAAA,EAAA,GAVA;AAWA,MAAA,MAAA,EAAA,MAXA;AAaA,MAAA,OAAA,EAAA,KAbA;AAeA,MAAA,SAAA,EAAA,EAfA;AAiBA,MAAA,YAAA,EAAA,EAjBA;AAkBA,MAAA,WAAA,EAAA,EAlBA;AAmBA,MAAA,OAAA,EAAA,KAnBA;AAoBA,MAAA,SAAA,EAAA,EApBA;AAqBA,MAAA,KAAA,EAAA,EArBA;AAsBA,MAAA,QAAA,EAAA,EAtBA;AAuBA,MAAA,aAAA,EAAA,EAvBA;AAwBA,MAAA,QAAA,EAAA,EAxBA;AAyBA,MAAA,OAAA,EAAA,EAzBA;AA2BA,MAAA,iBAAA,EAAA;AA3BA,yCA4BA,EA5BA,oCA8BA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KA9BA,oCAmCA,KAnCA;AAqCA,GA9CA;AAgDA,EAAA,OAAA,EAAA;AACA,IAAA,sBAAA,EAAA,gCAAA,KAAA,EAAA;AACA,WAAA,wBAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA,KAHA;AAIA,IAAA,cAAA,EAAA,wBAAA,KAAA,EAAA;AACA,WAAA,MAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA,KANA;AAOA,IAAA,UAAA,EAAA,sBAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,iBAAA,GAAA,KAAA,wBAAA;AACA,WAAA,UAAA,GAAA,KAAA,wBAAA;AACA,WAAA,MAAA,CACA,QADA,CACA,sBADA,EACA;AACA,QAAA,SAAA,EAAA,KAAA,SADA;AAEA,QAAA,iBAAA,EAAA,KAAA;AAFA,OADA,EAKA,IALA,CAKA,UAAA,GAAA;AAAA,eAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA;AAAA,OALA;AAMA,KAjBA;AAmBA,IAAA,YAAA,EAAA,wBAAA;AACA,WAAA,iBAAA,GAAA,EAAA;AACA,WAAA,QAAA,GAAA;AACA,QAAA,KAAA,EAAA,KAAA,KADA;AAEA,QAAA,MAAA,EAAA,KAAA;AAFA,OAAA;AAKA,WAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA;AACA,QAAA,SAAA,EAAA,KAAA,SADA;AAEA,QAAA,QAAA,EAAA,KAAA;AAFA,OAAA;AAIA,WAAA,UAAA,GAAA,WAAA,KAAA,KAAA,GAAA,GAAA,GAAA,KAAA,MAAA;AACA,KA/BA;AAiCA,IAAA,aAAA,EAAA,uBAAA,OAAA,EAAA;AAAA;;AACA,UAAA,OAAA,EAAA;AACA,YAAA,KAAA,GAAA,KAAA,KAAA;AACA,YAAA,aAAA,GAAA,KAAA,CAAA,MAAA,CAAA,UAAA,KAAA;AAAA,iBAAA,KAAA,CAAA,EAAA,IAAA,OAAA;AAAA,SAAA,CAAA;AACA,YAAA,UAAA,GAAA,KAAA,CAAA,OAAA,CAAA,aAAA,CAAA,CAAA,CAAA,CAAA;AAEA,QAAA,aAAA,CAAA,CAAA,CAAA,CAAA,KAAA,GAAA,KAAA,OAAA,CAAA,KAAA;AACA,QAAA,aAAA,CAAA,CAAA,CAAA,CAAA,OAAA,GAAA,KAAA,OAAA,CAAA,OAAA;AAEA,aAAA,KAAA,CAAA,UAAA,IAAA,aAAA,CAAA,CAAA,CAAA;AAEA,aAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA,aAAA,CAAA,CAAA,CAAA;AACA,OAXA,MAWA;AACA,aAAA,OAAA,GAAA,KAAA,OAAA,GAAA,CAAA;AACA,aAAA,MAAA,CACA,QADA,CACA,eADA,EACA;AACA,UAAA,SAAA,EAAA,KAAA,SADA;AAEA,UAAA,KAAA,EAAA,KAAA,OAAA,CAAA,KAFA;AAGA,UAAA,OAAA,EAAA,KAAA,OAAA,CAAA;AAHA,SADA,EAMA,IANA,CAMA,UAAA,GAAA;AAAA,iBAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AAAA,SANA;AAOA;;AAEA,WAAA,OAAA,CAAA,OAAA,GAAA,EAAA;AACA,WAAA,OAAA,CAAA,KAAA,GAAA,EAAA;AACA,WAAA,OAAA,CAAA,OAAA,GAAA,EAAA;AACA,KA3DA;AA6DA,IAAA,QAAA,EAAA,kBAAA,OAAA,EAAA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA;AACA,UAAA,aAAA,GAAA,KAAA,CAAA,MAAA,CAAA,UAAA,KAAA;AAAA,eAAA,KAAA,CAAA,EAAA,IAAA,OAAA;AAAA,OAAA,CAAA;AACA,WAAA,OAAA,CAAA,OAAA,GAAA,OAAA;AACA,WAAA,OAAA,CAAA,KAAA,GAAA,aAAA,CAAA,CAAA,CAAA,CAAA,KAAA;AACA,WAAA,OAAA,CAAA,OAAA,GAAA,aAAA,CAAA,CAAA,CAAA,CAAA,OAAA;AACA,KAnEA;AAoEA,IAAA,UAAA,EAAA,oBAAA,OAAA,EAAA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA;AACA,UAAA,aAAA,GAAA,KAAA,CAAA,MAAA,CAAA,UAAA,KAAA;AAAA,eAAA,KAAA,CAAA,EAAA,IAAA,OAAA;AAAA,OAAA,CAAA;AACA,UAAA,UAAA,GAAA,KAAA,CAAA,OAAA,CAAA,aAAA,CAAA,CAAA,CAAA,CAAA;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,UAAA,EAAA,CAAA;AACA,WAAA,OAAA,GAAA,KAAA,OAAA,GAAA,CAAA;AAEA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA;AACA,QAAA,OAAA,EAAA,OADA;AAEA,QAAA,SAAA,EAAA,KAAA;AAFA,OAAA;AAIA,KA/EA;AAgFA,IAAA,UAAA,EAAA,sBAAA;AACA,UAAA,MAAA,GAAA,EAAA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,KAAA,YAAA;AACA,MAAA,MAAA,CAAA,UAAA,CAAA,GAAA,KAAA,QAAA;AACA,MAAA,MAAA,CAAA,WAAA,CAAA,GAAA,KAAA,SAAA;AACA,MAAA,MAAA,CAAA,SAAA,CAAA,GAAA,KAAA,OAAA;AAEA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OAAA;AACA,KAxFA;AAyFA,IAAA,YAAA,EAAA,sBAAA,KAAA,EAAA;AACA,WAAA,OAAA,GAAA,CAAA,KAAA,OAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,oBAAA,EAAA;AACA,QAAA,aAAA,EAAA,KAAA,OADA;AAEA,QAAA,SAAA,EAAA,KAAA;AAFA,OAAA;AAIA;AA/FA,GAhDA;AAiJA,EAAA,OAjJA,qBAiJA;AAAA;;AACA,QAAA,CAAA,YAAA,CAAA,OAAA,CAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA;AADA,OAAA;AAGA;;AACA,SAAA,SAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,SAAA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA,KAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,cAAA,EAAA,GAAA,GAAA,MAAA,CAAA,YAAA,GAAA,GAAA,CAAA,KAAA;AACA,MAAA,MAAA,CAAA,WAAA,GAAA,GAAA,CAAA,UAAA;AACA,MAAA,MAAA,CAAA,OAAA,GAAA,GAAA,CAAA,OAAA;AACA,MAAA,MAAA,CAAA,SAAA,GAAA,GAAA,CAAA,SAAA;AACA,MAAA,MAAA,CAAA,KAAA,GAAA,GAAA,CAAA,KAAA;AACA,MAAA,MAAA,CAAA,QAAA,GAAA,GAAA,CAAA,QAAA;AACA,MAAA,MAAA,CAAA,OAAA,GAAA,GAAA,CAAA,OAAA;AACA,MAAA,MAAA,CAAA,UAAA,GAAA,GAAA,CAAA,SAAA;AACA,MAAA,MAAA,CAAA,OAAA,GAAA,IAAA;AACA,MAAA,MAAA,CAAA,OAAA,GAAA,GAAA,CAAA,aAAA,CAAA,OAAA;AACA,KAXA;AAYA;AApKA,CAAA","sourcesContent":["<template>\r\n<div>\r\n    <NavBar />\r\n    <br><br>\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n                <div class=\"col-md-8\">\r\n                    <div class=\"series_info\">\r\n                        <h3 ><b>Edit Series</b> </h3>\r\n                        <br>\r\n                        <br>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <h6>Title:</h6>\r\n                            </div>\r\n                            <div class=\"col-md-8\">\r\n                                <input type=\"text\" class=\"form-control\" v-model=\"series_title\" placeholder=\"Enter series title\">\r\n                            </div>\r\n                        </div>\r\n                        <br>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <h6>Group ID:</h6>\r\n                            </div>\r\n                            <div class=\"col-md-8\">\r\n                                <input type=\"text\" class=\"form-control\" v-model=\"group_id\" placeholder=\"Enter Group ID\">\r\n                            </div>\r\n                        </div>              \r\n                        <br>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <h6>API Key:</h6>\r\n                            </div>\r\n                            <div class=\"col-md-8\">\r\n                                <input type=\"text\" class=\"form-control\" v-model=\"api_key\" placeholder=\"Enter Bot api key\">\r\n                            </div>\r\n                        </div>              \r\n                        <br>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <h6>Period:</h6>\r\n                            </div>\r\n                            <div class=\"col-md-8\">\r\n                            <button class=\"btn btn-outline-dark custom-button\" data-target=\"#createPeriod\" data-toggle=\"modal\" style=\"width:100%\"> <i class=\"far fa-calendar-alt\"></i> Edit Your Periodicity</button>\r\n                                <br>\r\n                            </div>\r\n                        </div>\r\n                        <br>                        \r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <h6>Will Repeat:</h6>\r\n                            </div>\r\n                            <div class=\"col-md-8\">\r\n                                <h6 style=\"font-weight:550; text-transform: capitalize\">{{to_display}}</h6>\r\n                            </div>\r\n                        </div>\r\n                        <br>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <h6>Status</h6>\r\n                            </div>\r\n                            <div class=\"col-md-8\">\r\n                                <div class=\"custom-control custom-switch\">\r\n                                    <input type=\"checkbox\" class=\"custom-control-input custom-switch\" v-on:change=\"changeStatus\" id=\"customSwitch1\" :checked=\"enabled\">\r\n                                    <label class=\"custom-control-label\" v-if=\"enabled\" for=\"customSwitch1\" style=\"font-weight:bold\">Enabled</label>\r\n                                    <label class=\"custom-control-label\" v-if=\"!enabled\" for=\"customSwitch1\" style=\"font-weight:bold\">Disabled</label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <br>\r\n                        <button class=\"btn btn-success custom-button\" style=\"float:right; display:inline\" v-on:click=\"editSeries\">Save</button>\r\n                    </div>\r\n                    <br>\r\n                    <div style=\"float:left\">\r\n                            <button class=\"btn btn-secondary custom-button\" data-target=\"#createNewPost\" data-toggle=\"modal\"> <i class=\"fas fa-plus-circle\"></i>  Add Posts</button>\r\n                    </div>\r\n                    <br><br><br>\r\n                    <div class=\"card post-card\" v-for=\"post in posts\" :key=\"post.id\">\r\n                        <div class=\"card-body\" >\r\n                            <img src=\"../images/edit.png\" alt=\"edit\" class=\"post_edit_icon\" v-on:click=\"editpost(post.id)\" data-target=\"#createNewPost\" data-toggle=\"modal\"/>\r\n                            <i class=\"fa fa-check\" aria-hidden=\"true\" v-if=\"post.is_sent\" style=\"color:green;font-size:22px\"></i>\r\n                            <h6  class=\"posttitle\"><i>{{post.title}}</i></h6>\r\n                            <hr>\r\n                            <br>\r\n                            <h6 class=\"postcontent\" v-html=\"post.content\"></h6>                            \r\n                            <img src=\"../images/delete.png\" alt=\"edit\" class=\"post_delete_icon\" v-on:click=\"deletepost(post.id)\"/>\r\n                        </div>\r\n                    </div>\r\n                    <br><br>\r\n                </div>\r\n            <div class=\"col-md-4\">\r\n              <CustomMessenger v-bind:groupid=\"group_id\" v-bind:apikey=\"api_key\" v-if=\"loading\" style=\"display:inline\"/>\r\n              <br><br>\r\n              <AllMessages v-bind:groupid=\"group_id\" v-bind:apikey=\"api_key\" v-if=\"loading\" style=\"display:inline\" />\r\n            </div>\r\n        </div>        \r\n    </div>   \r\n\r\n    <!-- modal -->\r\n    <!-- Create Period -->\r\n        <div class=\"modal fade\" id=\"createPeriod\" tabindex=\"-1\" role=\"dialog\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">Create Your Time Schedule</h5>\r\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <label>Period:</label>\r\n                    <select class=\"form-control\" @change=\"recordPeriodicSchedule($event)\">\r\n                        <option value=\"daily\">Daily</option>\r\n                        <option value=\"wednesday\">Every Wednesday</option>\r\n                        <option value=\"saturdays\">Every Weekends</option>\r\n                        <option value=\"mon_to_fri\">Monday To Friday</option>\r\n                    </select>\r\n                    <br>\r\n                    <div style=\"float:left\">\r\n                        <a href=\"#createInterval\" data-toggle=\"modal\" data-dismiss=\"modal\">Configure Custom Schedule</a>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-sm btn-success\"  v-on:click=\"EditPeriod\" data-dismiss=\"modal\">Add Period</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n         </div>\r\n\r\n          <!--  interval modal -->\r\n         <div class=\"modal fade\" id=\"createInterval\" tabindex=\"-1\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">Create Your Time Schedule</h5>\r\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <label>Every:</label>\r\n                    <input type=\"number\" class=\"form-control\" placeholder=\"Enter the Period\" v-model=\"every\">\r\n                    <br>\r\n                    <label>Period:</label>\r\n                    <select class=\"form-control\" @change=\"recordInterval($event)\">\r\n                        <option value=\"days\" selected>Days</option>\r\n                        <option value=\"seconds\">Seconds</option>\r\n                        <option value=\"hours\">Hours</option>\r\n                        <option value=\"minutes\">Minutes</option>\r\n                        <option value=\"microseconds\">MicroSeconds</option>\r\n                    </select>\r\n                    <br>\r\n                    <div style=\"float:left\">\r\n                        <a href=\"#createPeriod\" data-toggle=\"modal\" data-dismiss=\"modal\">Configure Periodic Schedule</a>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-sm btn-success\" data-dismiss=\"modal\" v-on:click=\"editInterval\">Add Period</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n         </div>\r\n\r\n          <!-- new Posts -->\r\n         <div class=\"modal fade\" id=\"createNewPost\" tabindex=\"-1\" role=\"dialog\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">Create Your New Post</h5>\r\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <label>Title:</label>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter title of the Post\" v-model=\"newPost.title\" required>\r\n                    <br>\r\n                    <label>Post Content</label>\r\n                    <vue-editor placeholder=\"Enter Content here.....\" v-model=\"newPost.content\" :editorToolbar=\"customToolbar\"></vue-editor>\r\n                </div>\r\n                <div class=\"modal-footer\" >\r\n                    <button type=\"button\" class=\"btn btn-sm btn-success\"  v-on:click=\"createNewPost(newPost.post_id)\" data-dismiss=\"modal\" aria-label=\"Close\"\r\n                    >Add Post</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n            \r\n         </div> \r\n\r\n</div>\r\n    \r\n</template>\r\n\r\n<script>\r\nimport { VueEditor } from \"vue2-editor\";\r\nimport NavBar from \"./NavBar.vue\";\r\nimport store from \"../stores\";\r\nimport CustomMessenger from \"./CustomMessenger.vue\";\r\nimport AllMessages from \"./AllMessages\"\r\nexport default {\r\n  name: \"EditSeries\",\r\n  components: {\r\n    NavBar,\r\n    CustomMessenger,\r\n    VueEditor,\r\n    AllMessages\r\n  },\r\n  data() {\r\n    return {\r\n      customToolbar: [\r\n        [\"bold\", \"italic\"],\r\n        [\"code-block\"],\r\n        [\"link\"],\r\n        [\"clean\"]\r\n      ],\r\n      periodic_schedule_period: \"daily\",\r\n      to_display: \"\",\r\n\r\n      every: \"1\",\r\n      period: \"days\",\r\n\r\n      enabled: false,\r\n\r\n      series_id: \"\",\r\n\r\n      series_title: \"\",\r\n      no_of_posts: \"\",\r\n      is_sent: false,\r\n      to_repeat: \"\",\r\n      posts: [],\r\n      interval: {},\r\n      periodic_task: {},\r\n      group_id: \"\",\r\n      api_key: \"\",\r\n\r\n      periodic_schedule: {},\r\n      interval: {},\r\n\r\n      newPost: {\r\n        post_id: \"\",\r\n        title: \"\",\r\n        content: \"\"\r\n      },\r\n      loading: false\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    recordPeriodicSchedule: function(event) {\r\n      this.periodic_schedule_period = event.target.value;\r\n    },\r\n    recordInterval: function(event) {\r\n      this.period = event.target.value;\r\n    },\r\n    EditPeriod: function() {\r\n      this.interval = {};\r\n      this.periodic_schedule = this.periodic_schedule_period;\r\n      this.to_display = this.periodic_schedule_period;\r\n      this.$store\r\n        .dispatch(\"editPeriodicSchedule\", {\r\n          series_id: this.series_id,\r\n          periodic_schedule: this.periodic_schedule\r\n        })\r\n        .then(res => console.log(res));\r\n    },\r\n\r\n    editInterval: function() {\r\n      this.periodic_schedule = {};\r\n      this.interval = {\r\n        every: this.every,\r\n        period: this.period\r\n      };\r\n\r\n      this.$store.dispatch(\"editInterval\", {\r\n        series_id: this.series_id,\r\n        interval: this.interval\r\n      });\r\n      this.to_display = \"Every \" + this.every + \" \" + this.period;\r\n    },\r\n\r\n    createNewPost: function(post_id) {\r\n      if (post_id) {\r\n        var posts = this.posts;\r\n        var filtered_post = posts.filter(posts => posts.id == post_id);\r\n        var item_index = posts.indexOf(filtered_post[0]);\r\n\r\n        filtered_post[0].title = this.newPost.title;\r\n        filtered_post[0].content = this.newPost.content;\r\n\r\n        this.posts[item_index] = filtered_post[0];\r\n\r\n        this.$store.dispatch(\"editPost\", filtered_post[0]);\r\n      } else {\r\n        this.post_id = this.post_id + 1;\r\n        this.$store\r\n          .dispatch(\"createNewPost\", {\r\n            series_id: this.series_id,\r\n            title: this.newPost.title,\r\n            content: this.newPost.content\r\n          })\r\n          .then(res => this.posts.push(res));\r\n      }\r\n\r\n      this.newPost.post_id = \"\";\r\n      this.newPost.title = \"\";\r\n      this.newPost.content = \"\";\r\n    },\r\n\r\n    editpost: function(post_id) {\r\n      var posts = this.posts;\r\n      var filtered_post = posts.filter(posts => posts.id == post_id);\r\n      this.newPost.post_id = post_id;\r\n      this.newPost.title = filtered_post[0].title;\r\n      this.newPost.content = filtered_post[0].content;\r\n    },\r\n    deletepost: function(post_id) {\r\n      var posts = this.posts;\r\n      var filtered_post = posts.filter(posts => posts.id == post_id);\r\n      var item_index = posts.indexOf(filtered_post[0]);\r\n      this.posts.splice(item_index, 1);\r\n      this.post_id = this.post_id - 1;\r\n\r\n      this.$store.dispatch(\"deletePost\", {\r\n        post_id: post_id,\r\n        series_id: this.series_id\r\n      });\r\n    },\r\n    editSeries: function() {\r\n      var series = {};\r\n      series[\"title\"] = this.series_title;\r\n      series[\"group_id\"] = this.group_id;\r\n      series[\"series_id\"] = this.series_id;\r\n      series[\"api_key\"] = this.api_key;\r\n\r\n      this.$store.dispatch(\"editSeries\", { series: series });\r\n    },\r\n    changeStatus: function(event) {\r\n      this.enabled = !this.enabled;\r\n      this.$store.dispatch(\"changeSeriesStatus\", {\r\n        periodic_task: this.enabled,\r\n        series_id: this.series_id\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    if (!localStorage[\"token\"]) {\r\n      this.$router.push({\r\n        path: \"/\"\r\n      });\r\n    }\r\n    this.series_id = this.$route.params.series_id;\r\n    this.$store.dispatch(\"fetchSeries\", this.series_id).then(res => {\r\n      this.$store.commit(\"commitSeries\", res), (this.series_title = res.title);\r\n      this.no_of_posts = res.no_of_post;\r\n      this.is_sent = res.is_sent;\r\n      this.to_repeat = res.to_repeat;\r\n      this.posts = res.posts;\r\n      this.group_id = res.group_id;\r\n      this.api_key = res.api_key;\r\n      this.to_display = res.to_repeat;\r\n      this.loading = true;\r\n      this.enabled = res.periodic_task.enabled;\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n@import \"../../node_modules/simplemde/dist/simplemde.min.css\";\r\n\r\n.series_info {\r\n  border: 1px solid #eee;\r\n  box-shadow: 2px 2px 10px #ddd;\r\n  border-radius: 5px;\r\n  padding: 50px;\r\n}\r\n\r\n.postcontent {\r\n  text-align: justify;\r\n}\r\n\r\n.postcontent pre{\r\n  background-color: black;\r\n  border-radius: 5px;\r\n  padding: 8px;\r\n  color:chocolate;\r\n}\r\n\r\n.posttitle {\r\n  padding-left: 10px;\r\n  color: #5c5c5c;\r\n  font-weight: 900;\r\n  display: inline;\r\n}\r\n\r\n.post_is_sent {\r\n  width: 20px;\r\n  display: inline;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.post_edit_icon {\r\n  float: right;\r\n  width: 20px;\r\n  margin-right: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n.post_delete_icon {\r\n  float: right;\r\n  width: 20px;\r\n  margin-right: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n.post-card {\r\n  margin-bottom: 15px;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.custom-button:hover {\r\n  color: #ffffff;\r\n}\r\n\r\n.custom-button {\r\n  padding-left: 40px;\r\n  padding-right: 40px;\r\n  font-weight: 800;\r\n  font-size: 13px;\r\n}\r\n\r\n.custom-switch {\r\n  width: 100px;\r\n  height: 34px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}