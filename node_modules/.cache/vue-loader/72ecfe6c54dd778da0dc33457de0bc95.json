{"remainingRequest":"C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\src\\components\\EditSeries.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\src\\components\\EditSeries.vue","mtime":1567173809076},{"path":"C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\vivek\\code\\SpeckbitBot\\speckbot_bot_frontend\\tg-camp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n@import \"../../node_modules/simplemde/dist/simplemde.min.css\";\r\n\r\n.series_info {\r\n  border: 1px solid #eee;\r\n  box-shadow: 2px 2px 10px #ddd;\r\n  border-radius: 5px;\r\n  padding: 50px;\r\n}\r\n\r\n.postcontent {\r\n  text-align: justify;\r\n}\r\n\r\n.postcontent pre{\r\n  background-color: black;\r\n  border-radius: 5px;\r\n  padding: 8px;\r\n  color:chocolate;\r\n}\r\n\r\n.posttitle {\r\n  padding-left: 10px;\r\n  color: #5c5c5c;\r\n  font-weight: 900;\r\n  display: inline;\r\n}\r\n\r\n.post_is_sent {\r\n  width: 20px;\r\n  display: inline;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.post_edit_icon {\r\n  float: right;\r\n  width: 20px;\r\n  margin-right: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n.post_delete_icon {\r\n  float: right;\r\n  width: 20px;\r\n  margin-right: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n.post-card {\r\n  margin-bottom: 15px;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.custom-button:hover {\r\n  color: #ffffff;\r\n}\r\n\r\n.custom-button {\r\n  padding-left: 40px;\r\n  padding-right: 40px;\r\n  font-weight: 800;\r\n  font-size: 13px;\r\n}\r\n\r\n.custom-switch {\r\n  width: 100px;\r\n  height: 34px;\r\n}\r\n",{"version":3,"sources":["EditSeries.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6WA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"EditSeries.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div>\r\n    <NavBar />\r\n    <br><br>\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n                <div class=\"col-md-8\">\r\n                    <div class=\"series_info\">\r\n                        <h3 ><b>Edit Series</b> </h3>\r\n                        <br>\r\n                        <br>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <h6>Title:</h6>\r\n                            </div>\r\n                            <div class=\"col-md-8\">\r\n                                <input type=\"text\" class=\"form-control\" v-model=\"series_title\" placeholder=\"Enter series title\">\r\n                            </div>\r\n                        </div>\r\n                        <br>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <h6>Group ID:</h6>\r\n                            </div>\r\n                            <div class=\"col-md-8\">\r\n                                <input type=\"text\" class=\"form-control\" v-model=\"group_id\" placeholder=\"Enter Group ID\">\r\n                            </div>\r\n                        </div>              \r\n                        <br>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <h6>API Key:</h6>\r\n                            </div>\r\n                            <div class=\"col-md-8\">\r\n                                <input type=\"text\" class=\"form-control\" v-model=\"api_key\" placeholder=\"Enter Bot api key\">\r\n                            </div>\r\n                        </div>              \r\n                        <br>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <h6>Period:</h6>\r\n                            </div>\r\n                            <div class=\"col-md-8\">\r\n                            <button class=\"btn btn-outline-dark custom-button\" data-target=\"#createPeriod\" data-toggle=\"modal\" style=\"width:100%\"> <i class=\"far fa-calendar-alt\"></i> Edit Your Periodicity</button>\r\n                                <br>\r\n                            </div>\r\n                        </div>\r\n                        <br>                        \r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <h6>Will Repeat:</h6>\r\n                            </div>\r\n                            <div class=\"col-md-8\">\r\n                                <h6 style=\"font-weight:550; text-transform: capitalize\">{{to_display}}</h6>\r\n                            </div>\r\n                        </div>\r\n                        <br>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <h6>Status</h6>\r\n                            </div>\r\n                            <div class=\"col-md-8\">\r\n                                <div class=\"custom-control custom-switch\">\r\n                                    <input type=\"checkbox\" class=\"custom-control-input custom-switch\" v-on:change=\"changeStatus\" id=\"customSwitch1\" :checked=\"enabled\">\r\n                                    <label class=\"custom-control-label\" v-if=\"enabled\" for=\"customSwitch1\" style=\"font-weight:bold\">Enabled</label>\r\n                                    <label class=\"custom-control-label\" v-if=\"!enabled\" for=\"customSwitch1\" style=\"font-weight:bold\">Disabled</label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <br>\r\n                        <button class=\"btn btn-success custom-button\" style=\"float:right; display:inline\" v-on:click=\"editSeries\">Save</button>\r\n                    </div>\r\n                    <br>\r\n                    <div style=\"float:left\">\r\n                            <button class=\"btn btn-secondary custom-button\" data-target=\"#createNewPost\" data-toggle=\"modal\"> <i class=\"fas fa-plus-circle\"></i>  Add Posts</button>\r\n                    </div>\r\n                    <br><br><br>\r\n                    <div class=\"card post-card\" v-for=\"post in posts\" :key=\"post.id\">\r\n                        <div class=\"card-body\" >\r\n                            <img src=\"../images/edit.png\" alt=\"edit\" class=\"post_edit_icon\" v-on:click=\"editpost(post.id)\" data-target=\"#createNewPost\" data-toggle=\"modal\"/>\r\n                            <i class=\"fa fa-check\" aria-hidden=\"true\" v-if=\"post.is_sent\" style=\"color:green;font-size:22px\"></i>\r\n                            <h5  class=\"posttitle\"><i>{{post.title}}</i></h5>\r\n                            <hr>\r\n                            <br>\r\n                            <h5 class=\"postcontent\" v-html=\"post.content\"></h5>                            \r\n                            <img src=\"../images/delete.png\" alt=\"edit\" class=\"post_delete_icon\" v-on:click=\"deletepost(post.id)\"/>\r\n                        </div>\r\n                    </div>\r\n                    <br><br>\r\n                </div>\r\n            <div class=\"col-md-4\">\r\n              <CustomMessenger v-bind:groupid=\"group_id\" v-bind:apikey=\"api_key\" v-if=\"loading\" style=\"display:inline\"/>\r\n\r\n            </div>\r\n        </div>        \r\n    </div>   \r\n\r\n    <!-- modal -->\r\n    <!-- Create Period -->\r\n        <div class=\"modal fade\" id=\"createPeriod\" tabindex=\"-1\" role=\"dialog\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">Create Your Time Schedule</h5>\r\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <label>Period:</label>\r\n                    <select class=\"form-control\" @change=\"recordPeriodicSchedule($event)\">\r\n                        <option value=\"daily\">Daliy</option>\r\n                        <option value=\"wednesday\">Every Wednesday</option>\r\n                        <option value=\"saturdays\">Every Weekends</option>\r\n                        <option value=\"mon_to_fri\">Monday To Friday</option>\r\n                    </select>\r\n                    <br>\r\n                    <div style=\"float:left\">\r\n                        <a href=\"#createInterval\" data-toggle=\"modal\" data-dismiss=\"modal\">Configure Custom Schedule</a>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-sm btn-success\"  v-on:click=\"EditPeriod\" data-dismiss=\"modal\">Add Period</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n         </div>\r\n\r\n          <!--  interval modal -->\r\n         <div class=\"modal fade\" id=\"createInterval\" tabindex=\"-1\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">Create Your Time Schedule</h5>\r\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <label>Every:</label>\r\n                    <input type=\"number\" class=\"form-control\" placeholder=\"Enter the Period\" v-model=\"every\">\r\n                    <br>\r\n                    <label>Period:</label>\r\n                    <select class=\"form-control\" @change=\"recordInterval($event)\">\r\n                        <option value=\"days\" selected>Days</option>\r\n                        <option value=\"seconds\">Seconds</option>\r\n                        <option value=\"hours\">Hours</option>\r\n                        <option value=\"minutes\">Minutes</option>\r\n                        <option value=\"microseconds\">MicroSeconds</option>\r\n                    </select>\r\n                    <br>\r\n                    <div style=\"float:left\">\r\n                        <a href=\"#createPeriod\" data-toggle=\"modal\" data-dismiss=\"modal\">Configure Periodic Schedule</a>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-sm btn-success\" data-dismiss=\"modal\" v-on:click=\"editInterval\">Add Period</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n         </div>\r\n\r\n          <!-- new Posts -->\r\n         <div class=\"modal fade\" id=\"createNewPost\" tabindex=\"-1\" role=\"dialog\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">Create Your New Post</h5>\r\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <label>Title:</label>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter title of the Post\" v-model=\"newPost.title\" required>\r\n                    <br>\r\n                    <label>Post Content</label>\r\n                    <vue-editor placeholder=\"Enter Content here.....\" v-model=\"newPost.content\" :editorToolbar=\"customToolbar\"></vue-editor>\r\n                </div>\r\n                <div class=\"modal-footer\" >\r\n                    <button type=\"button\" class=\"btn btn-sm btn-success\"  v-on:click=\"createNewPost(newPost.post_id)\" data-dismiss=\"modal\" aria-label=\"Close\"\r\n                    >Add Post</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n            \r\n         </div> \r\n\r\n</div>\r\n    \r\n</template>\r\n\r\n<script>\r\nimport { VueEditor } from \"vue2-editor\";\r\nimport NavBar from \"./NavBar.vue\";\r\nimport store from \"../stores\";\r\nimport CustomMessenger from \"./CustomMessenger.vue\";\r\nexport default {\r\n  name: \"EditSeries\",\r\n  components: {\r\n    NavBar,\r\n    CustomMessenger,\r\n    VueEditor\r\n  },\r\n  data() {\r\n    return {\r\n      customToolbar: [\r\n        [\"bold\", \"italic\"],\r\n        [\"code-block\"],\r\n        [\"link\"],\r\n        [\"clean\"]\r\n      ],\r\n      periodic_schedule_period: \"daily\",\r\n      to_display: \"\",\r\n\r\n      every: \"1\",\r\n      period: \"days\",\r\n\r\n      enabled: false,\r\n\r\n      series_id: \"\",\r\n\r\n      series_title: \"\",\r\n      no_of_posts: \"\",\r\n      is_sent: false,\r\n      to_repeat: \"\",\r\n      posts: [],\r\n      interval: {},\r\n      periodic_task: {},\r\n      group_id: \"\",\r\n      api_key: \"\",\r\n\r\n      periodic_schedule: {},\r\n      interval: {},\r\n\r\n      newPost: {\r\n        post_id: \"\",\r\n        title: \"\",\r\n        content: \"\"\r\n      },\r\n      loading: false\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    recordPeriodicSchedule: function(event) {\r\n      this.periodic_schedule_period = event.target.value;\r\n    },\r\n    recordInterval: function(event) {\r\n      this.period = event.target.value;\r\n    },\r\n    EditPeriod: function() {\r\n      this.interval = {};\r\n      this.periodic_schedule = this.periodic_schedule_period;\r\n      this.to_display = this.periodic_schedule_period;\r\n      this.$store\r\n        .dispatch(\"editPeriodicSchedule\", {\r\n          series_id: this.series_id,\r\n          periodic_schedule: this.periodic_schedule\r\n        })\r\n        .then(res => console.log(res));\r\n    },\r\n\r\n    editInterval: function() {\r\n      this.periodic_schedule = {};\r\n      this.interval = {\r\n        every: this.every,\r\n        period: this.period\r\n      };\r\n\r\n      this.$store.dispatch(\"editInterval\", {\r\n        series_id: this.series_id,\r\n        interval: this.interval\r\n      });\r\n      this.to_display = \"Every \" + this.every + \" \" + this.period;\r\n    },\r\n\r\n    createNewPost: function(post_id) {\r\n      if (post_id) {\r\n        var posts = this.posts;\r\n        var filtered_post = posts.filter(posts => posts.id == post_id);\r\n        var item_index = posts.indexOf(filtered_post[0]);\r\n\r\n        filtered_post[0].title = this.newPost.title;\r\n        filtered_post[0].content = this.newPost.content;\r\n\r\n        this.posts[item_index] = filtered_post[0];\r\n\r\n        this.$store.dispatch(\"editPost\", filtered_post[0]);\r\n      } else {\r\n        this.post_id = this.post_id + 1;\r\n        this.$store\r\n          .dispatch(\"createNewPost\", {\r\n            series_id: this.series_id,\r\n            title: this.newPost.title,\r\n            content: this.newPost.content\r\n          })\r\n          .then(res => this.posts.push(res));\r\n      }\r\n\r\n      this.newPost.post_id = \"\";\r\n      this.newPost.title = \"\";\r\n      this.newPost.content = \"\";\r\n    },\r\n\r\n    editpost: function(post_id) {\r\n      var posts = this.posts;\r\n      var filtered_post = posts.filter(posts => posts.id == post_id);\r\n      this.newPost.post_id = post_id;\r\n      this.newPost.title = filtered_post[0].title;\r\n      this.newPost.content = filtered_post[0].content;\r\n    },\r\n    deletepost: function(post_id) {\r\n      var posts = this.posts;\r\n      var filtered_post = posts.filter(posts => posts.id == post_id);\r\n      var item_index = posts.indexOf(filtered_post[0]);\r\n      this.posts.splice(item_index, 1);\r\n      this.post_id = this.post_id - 1;\r\n\r\n      this.$store.dispatch(\"deletePost\", {\r\n        post_id: post_id,\r\n        series_id: this.series_id\r\n      });\r\n    },\r\n    editSeries: function() {\r\n      var series = {};\r\n      series[\"title\"] = this.series_title;\r\n      series[\"group_id\"] = this.group_id;\r\n      series[\"series_id\"] = this.series_id;\r\n      series[\"api_key\"] = this.api_key;\r\n\r\n      this.$store.dispatch(\"editSeries\", { series: series });\r\n    },\r\n    changeStatus: function(event) {\r\n      this.enabled = !this.enabled;\r\n      this.$store.dispatch(\"changeSeriesStatus\", {\r\n        periodic_task: this.enabled,\r\n        series_id: this.series_id\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    if (!localStorage[\"token\"]) {\r\n      this.$router.push({\r\n        path: \"/\"\r\n      });\r\n    }\r\n    this.series_id = this.$route.params.series_id;\r\n    this.$store.dispatch(\"fetchSeries\", this.series_id).then(res => {\r\n      this.$store.commit(\"commitSeries\", res), (this.series_title = res.title);\r\n      this.no_of_posts = res.no_of_post;\r\n      this.is_sent = res.is_sent;\r\n      this.to_repeat = res.to_repeat;\r\n      this.posts = res.posts;\r\n      this.group_id = res.group_id;\r\n      this.api_key = res.api_key;\r\n      this.to_display = res.to_repeat;\r\n      this.loading = true;\r\n      this.enabled = res.periodic_task.enabled;\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n@import \"../../node_modules/simplemde/dist/simplemde.min.css\";\r\n\r\n.series_info {\r\n  border: 1px solid #eee;\r\n  box-shadow: 2px 2px 10px #ddd;\r\n  border-radius: 5px;\r\n  padding: 50px;\r\n}\r\n\r\n.postcontent {\r\n  text-align: justify;\r\n}\r\n\r\n.postcontent pre{\r\n  background-color: black;\r\n  border-radius: 5px;\r\n  padding: 8px;\r\n  color:chocolate;\r\n}\r\n\r\n.posttitle {\r\n  padding-left: 10px;\r\n  color: #5c5c5c;\r\n  font-weight: 900;\r\n  display: inline;\r\n}\r\n\r\n.post_is_sent {\r\n  width: 20px;\r\n  display: inline;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.post_edit_icon {\r\n  float: right;\r\n  width: 20px;\r\n  margin-right: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n.post_delete_icon {\r\n  float: right;\r\n  width: 20px;\r\n  margin-right: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n.post-card {\r\n  margin-bottom: 15px;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.custom-button:hover {\r\n  color: #ffffff;\r\n}\r\n\r\n.custom-button {\r\n  padding-left: 40px;\r\n  padding-right: 40px;\r\n  font-weight: 800;\r\n  font-size: 13px;\r\n}\r\n\r\n.custom-switch {\r\n  width: 100px;\r\n  height: 34px;\r\n}\r\n</style>\r\n"]}]}